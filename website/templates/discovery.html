{% extends "base.html" %} {% block title %}Discovery{% endblock %}

{% block content %}
<div class="container" style="margin-top: 5%; margin-bottom: 5%">
    <h1 style="font-weight: bold;">Discovery</h1>
    <p>In a rush? Pick a template from past Quizzes shared by faculty members.</p>
</div>

 
    
<div class="container">
    <!--Jinja2 Filter: sort all subject into sorted_quizzes from quizzes-->
    {% set sorted_quizzes = quizzes|sort(attribute='subject') %}
    <div class="row gx-5 ">
        <!--takes sorted list of quizzes, groups by subject, and iterates over each group -->
        {% for subject, subject_quizzess in sorted_quizzes|groupby('subject') %}
        <div class="col-lg-4">
            <h2>{{ subject }}</h2><br>
            <!--iterates over list of quizzes inside subject group-->
            {% for quiz in subject_quizzess %}     
            <div class="row gx-5" style="margin-bottom: 1%;">
                <div class="col-lg-12">
                    <div class="card h-80" style="background-color: #95B8ED;border-color: #95B8ED; margin-bottom: 4%">
                        <a class="card-body" href="{{ url_for('question.view_quiz', quiz_id=quiz.id) }}">
                            <h2 style="color: white;">Quiz by:</h2>
                            <h1 style="color: white;">{{ quiz.user.full_name }}</h1>
                        </a>
                        <div class="card-footer"  style="background-color: white;border-color: white;">
                            <p1>Created on: {{ quiz.date_created }} </p1>

                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}